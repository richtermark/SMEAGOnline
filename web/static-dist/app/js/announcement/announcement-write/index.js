webpackJsonp(["app/js/announcement/announcement-write/index"],[function(e,n){"use strict";function t(){return $("#announcement-write-form").validate({onkeyup:!1,rules:{content:{required:!0},startTime:{required:!0,DateAndTime:!0},endTime:{required:!0,DateAndTime:!0}}})}function a(){$("#modal").modal("show"),$('a[data-role="announcement-modal"]').click(function(){var e=$("#modal");e.html("").load($(this).data("url"))}),$(".js-save-btn").click(function(){m.form()&&($(".js-save-btn").button("loading"),$.post($("#announcement-write-form").attr("action"),$("#announcement-write-form").serialize(),function(e){window.location.reload()},"json"))})}function i(e){var n=CKEDITOR.replace("announcement-content-field",{toolbar:"Simple",filebrowserImageUploadUrl:$("#announcement-content-field").data("imageUploadUrl")});n.on("change",function(){$("#announcement-content-field").val(n.getData()),e.form()}),n.on("blur",function(){$("#announcement-content-field").val(n.getData()),e.form()})}function o(e){var n=new Date;$("[name=startTime]").datetimepicker({language:"zh",autoclose:!0}).on("hide",function(n){e.form()}),$("[name=startTime]").datetimepicker("setStartDate",n),$("[name=startTime]").datetimepicker().on("changeDate",function(){$("[name=endTime]").datetimepicker("setStartDate",$("[name=startTime]").val().substring(0,16))}),$("[name=endTime]").datetimepicker({autoclose:!0,language:"zh"}).on("hide",function(n){e.form()}),$("[name=endTime]").datetimepicker("setStartDate",n),$("[name=endTime]").datetimepicker().on("changeDate",function(){$("[name=startTime]").datetimepicker("setEndDate",$("[name=endTime]").val().substring(0,16))})}var m=t();a(m),i(m),o(m)}]);