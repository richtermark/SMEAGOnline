webpackJsonp(["app/js/course-manage-file/index/index"],[function(a,t,r){"use strict";function s(a){return a&&a.__esModule?a:{default:a}}function l(){var a=new Array;$("tbody [type=checkbox]").each(function(){isNaN($(this).val())||a.push($(this).val())}),0!=a.length&&$.post($("#file-manage-panel").data("fileStatusUrl"),{ids:a.join(",")},function(a){if(a&&0!=a.length)for(var t=0;t<a.length;t++){var r=a[t];$.inArray(r.type,["video","ppt","document"])>-1&&"cloud"==r.storage&&("waiting"==r.convertStatus||"doing"==r.convertStatus?$("#upload-file-tr-"+r.id).find("a:first ~ br:first").after("<span class='text-warning mr5 text-sm'>"+Translator.trans("正在文件格式转换")+"</span><br/>"):"error"==r.convertStatus?$("#upload-file-tr-"+r.id).find("a:first ~ br:first").after("<span class='text-danger mr5 text-sm'>"+Translator.trans("文件格式转换失败")+"</span><br/>"):"none"==r.convertStatus?$("#upload-file-tr-"+r.id).find("a:first ~ br:last").after("<span class='label label-default mr5 tip'>"+Translator.trans("未转码")+"</span>"):"success"==r.convertStatus&&$("#upload-file-tr-"+r.id).find("a:first ~ br:last").after("<span class='label label-success mr5 tip'>"+Translator.trans("已转码")+"</span>")),"video"==r.type&&r.metas2&&(r.metas2.shd?$("#upload-file-tr-"+r.id).find("a:first ~ br:first").after('<span class="label label-info mr5 tip">'+Translator.trans("超清")+"</span>"):r.metas2.hd?$("#upload-file-tr-"+r.id).find("a:first ~ br:first").after('<span class="label label-info mr5 tip">'+Translator.trans("高清")+"</span>"):r.metas2.sd&&$("#upload-file-tr-"+r.id).find("a:first ~ br:first").after('<span class="label label-info mr5 tip">'+Translator.trans("标清")+"</span>")),"video"==r.type&&r.metas&&r.metas.caption&&$("#upload-file-tr-"+r.id).find("a:first ~ br:first").after('<span class="label label-primary tip">'+Translator.trans("字幕")+"</span>")}})}var n=r("b334fd7e4c5a19234db2"),e=s(n),i=r("de585ca0d3c2d0205c51"),o=s(i),d=$("#file-manage-panel");new o.default(d),d.on("click",".convert-file-btn",function(){$.post($(this).data("url"),function(a){"error"==a.status?alert(a.message):window.location.reload()},"json").fail(function(){alert(Translator.trans("文件转换提交失败，请重试！"))})}),$(".tip").tooltip(),$("#modal").modal({backdrop:"static",keyboard:!1,show:!1}),$("button",".panel-heading").on("click",function(){var a=$(this).data("url");$("#modal").html(""),$("#modal").modal("show"),$.get(a,function(a){$("#modal").html(a)})}),$("[rel='tooltip']").tooltip(),l(),$("[data-role=batch-delete]").click(function(){var a=!1,t=[];return $("[data-role=batch-item]").each(function(){$(this).is(":checked")&&(a=!0,t.push(this.value))}),a?($("#modal").html(""),$("#modal").load($(this).data("url"),{ids:t}),$("#modal").modal("show"),void 0):void(0,e.default)("danger",Translator.trans("未选中任何文件记录"))})}]);