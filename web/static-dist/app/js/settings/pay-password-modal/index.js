webpackJsonp(["app/js/settings/pay-password-modal/index"],[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=t("b334fd7e4c5a19234db2"),s=r(a),u=function(){function e(n){i(this,e),this.element=$(n.element),this.currentDom=n.currentDom,this.init()}return o(e,[{key:"init",value:function(){this.initEvent(),this.validate()}},{key:"validate",value:function(){var e=this.currentDom,n=this.element.validate({ajax:!0,currentDom:e,rules:{"form[currentUserLoginPassword]":{required:!0,passwordCheck:!0},"form[newPayPassword]":{required:!0,maxlength:20,minlength:5},"form[confirmPayPassword]":{required:!0,equalTo:"#form_newPayPassword"}},submitError:function(e){(0,s.default)("danger","未成功设置支付密码")},submitSuccess:function(e){(0,s.default)("success",e.message),setTimeout(function(){window.location.reload()},1e3)}});return n}},{key:"initEvent",value:function(){var e=this;$(this.currentDom).on("click",function(){e.validate().form()&&e.element.submit()})}}]),e}();new u({element:"#settings-pay-password-form",currentDom:".js-submit-form"})}]);