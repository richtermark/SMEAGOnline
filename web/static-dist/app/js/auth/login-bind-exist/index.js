webpackJsonp(["app/js/auth/login-bind-exist/index"],[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=i("b334fd7e4c5a19234db2"),n=a(r),o=$("#bind-exist-form"),s=o.find("#set-bind-exist-btn"),d=o.validate({rules:{emailOrMobile:{required:!0,email_or_mobile:!0},password:{required:!0}}});s.click(function(){d.form()&&(s.button("loading"),$("#bind-exist-form-error").hide(),$.post(o.attr("action"),o.serialize(),function(e){return e.success?((0,n.default)("success",Translator.trans("绑定帐号成功，正在跳转至首页！")),void(window.location.href=e._target_path)):($("#bind-exist-form-error").html(e.message).show(),void s.button("reset"))},"json").fail(function(){(0,n.default)("danger",Translator.trans("绑定失败，帐号或密码错误。"))}).always(function(){s.button("reset")}))}),$.validator.addMethod("email_or_mobile",function(e,t,i){var a=e,r=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,n=/^1\d{10}$/,o=!1,s=r.test(a),d=n.test(a);return d?$(".email_mobile_msg").removeClass("hidden"):$(".email_mobile_msg").addClass("hidden"),(s||d)&&(o=!0),this.optional(t)||o},Translator.trans("请输入正确格式的Email/手机"))}]);